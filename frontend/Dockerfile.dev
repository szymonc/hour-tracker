# Development image: install deps and run ng serve with HMR.
# Use with volume mount of ./frontend to /app and anonymous volume for /app/node_modules.
FROM node:20-alpine

WORKDIR /app

# Install dependencies (copied so anonymous volume can preserve node_modules)
COPY package*.json ./
RUN npm install

# ng serve: 0.0.0.0 for Docker, --poll for reliable file watching in mounted volumes
CMD ["npx", "ng", "serve", "--host", "0.0.0.0", "--port", "4200", "--poll", "2000"]
