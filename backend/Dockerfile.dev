# Development image: install deps and run nest in watch mode.
# Use with volume mount of ./backend to /app and anonymous volume for /app/node_modules.
FROM node:20-alpine

WORKDIR /app

# Install dependencies (copied so anonymous volume can preserve node_modules)
COPY package*.json ./
RUN npm install

# Default: run dev server (source mounted at runtime)
CMD ["npm", "run", "start:dev"]
